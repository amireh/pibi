<div class="feed" data-confirmable="transactions">
  <% transies.each_pair do |period, txs| %>
    <% next if txs.empty? %>

    <%= heading.call(txs.first.occured_on) %>

    <table>
      <% txs.each do |t| %>
      <tr class="<%= t.type.to_s.downcase %>">
        <td><%= t.withdrawal? ? '&minus;' : '&plus;' %></td>
        <td><%= t.amount.to_f %></td>
        <td><%= t.currency %></td>
        <td><%= t.note %> <span class="tx_categories"><%= t.categories.collect(){ |c| c.name }.join(', ') %></span>
          <% if t.payment_method %>
            <span class="tx_pm" style="color: #<%= t.payment_method.color %>;"><%= t.payment_method.name %></span>
          <% end %>
        </td>
        <td><%= actions_for t %></td>
      </tr>
      <% end %>
    </table>
  <% end %>
</div>

<div class="hidden" id="transactions_delete_confirmation">
  <h1>Deleting transaction</h1>
  <p class="warning">Are you sure you want to remove this transaction?
    <em class="bad">This action is irreversible</em>
  </p>
</div>